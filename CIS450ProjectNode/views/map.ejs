<!DOCTYPE html>
<!-- Latest compiled and minified CSS -->

<html>

  <% include partials/head %>
  <head profile="http://gmpg.org/xfn/11">
    <title>Leaflet Example - asmaloney.com</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <link rel="stylesheet" type="text/css" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />

    <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js'></script>
    <script type='text/javascript' src='http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js'></script>
  </head>
  <% include partials/nav %>
<link rel="stylesheet" type="text/css" href="public/stylesheets/css/alumni.css">
<style>
.topspacer {
    padding-top: 5em;
}

.companyhead {
	padding-bottom: 1em;
}
</style>

  	<% var industryNames = ['Accounting & Legal', 'Aerospace & Defense', 'Architecture & Civil Engineering', 'Arts & Entertainment', 'Automotive', 'Banking & Financial Services', 'Beauty & Fitness', 'Biotech & Pharmaceuticals', 'Business Services', 'Computer Software & Hardware', 'Construction', 'Consulting', 'Consumer Electronics', 'Consumer Services', 'Education & Schools', 'Energy & Utilities', 'Facilities', 'Farming & Agriculture', 'Government', 'Health Care & Hospitals', 'Information Technology', 'Insurance', 'Internet & Tech', 'Manufacturing', 'Marketing & Advertising', 'Media & Publishing', 'Nonprofit', 'Private Security', 'Real Estate', 'Recruiting & Staffing', 'Restaurants & Bars', 'Retail', 'Supermarkets', 'Telecommunications', 'Transportation & Logistics', 'Travel & Tourism', 'Wholesale'] %>

  <body>
    <div class="container">
    <div class="topspacer">
    <header class="jumbotron hero-spacer">

  	<div class="form-inline">
  		<div> <h1> Find Alumni </h1> </div>
  		<div class="companyhead"><h4> Fiter By Industry </h4></div>
	    <form action="/map" method="post">
			<p style="padding-top: 1em"> Industry </p>
			<select id="industryList" class="form-control col-4" name="industry">
			  <% for(var i=0; i<industryNames.length; i++) {%>
				   <option value=<%=industryNames[i]%>><%= industryNames[i] %></li>
				<% } %>
			</select>
			<br>
			<br>
			<input type="submit">
	    </form>
	 </div>
	</div>

			  




	</header>

	</div>
	<h1>Leaflet Example</h1>

    <p>Here's an interactive map indicating the countries I've either lived in or travelled through for a month or more.

    <div id="map" style="width: 800px; height: 440px; border: 1px solid #AAA;"></div>

    <div>
      <p>An example of how to use <a href="http://leafletjs.com/" target="_blank">Leaflet</a>.
      <p>From the article <a href="https://asmaloney.com/2014/01/code/creating-an-interactive-map-with-leaflet-and-openstreetmap" target="_blank">Creating An Interactive Map With Leaflet and OpenStreetMap</a>
      <p>Andy Maloney // <a href="https://asmaloney.com" target="_blank">asmaloney.com</a>
      <br/>23 Jan 2014

      <p><b>[19 Apr 2014]</b> Added <i>http:</i> to the scheme-less ajax.googleapis.com URI so double-clicking this file to open in the browser works.
      <p><b>[12 Jul 2016]</b> MapQuest discontinued the tile set I was using, so I switched to OpenStreetMapâ€™s tiles. Note that these are useful only for testing. They say on their site:
        <blockquote>"Apart from very limited testing purposes, you should not use the tiles supplied by OpenStreetMap.org itself."</blockquote>
      <p><b>[16 Jul 2016]</b> Switched to Leaflet 0.7.7.
    </div>
    <script type='text/javascript' src='../maps/markers.json'></script>
    <script>

		var map = L.map( 'map', {
		  center: [20.0, 5.0],
		  minZoom: 2,
		  zoom: 2
		})

		L.tileLayer( 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		  attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
		  subdomains: ['a', 'b', 'c']
		}).addTo( map )

		var myURL = jQuery( 'script[src$="leaf-demo.js"]' ).attr( 'src' ).replace( 'leaf-demo.js', '' )

		var myIcon = L.icon({
		  iconUrl: myURL + 'images/pin24.png',
		  iconRetinaUrl: myURL + 'images/pin48.png',
		  iconSize: [29, 24],
		  iconAnchor: [9, 21],
		  popupAnchor: [0, -14]
		})

		for (a in <%- myJson %>) {

		}

		for ( var i=0; i < <%- myJson %>.length; ++i )
		{
		 L.marker( [<%- myJson %>[i].lat, [<%- myJson %>][i].lng], {icon: myIcon} )
		  .bindPopup( '<a href="' + <%- myJson %>[i].url + '" target="_blank">' + <%- myJson %>[i].name + '</a>' )
		  .addTo( map );
		}
    </script>

	
  </body>
</html>
